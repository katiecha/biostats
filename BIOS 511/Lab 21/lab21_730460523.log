NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

71         
72         /****************************************************************************
73         *
74         * Project : BIOS 511 Lab 21
75         *
76         * Program name : lab21_730460523.sas
77         *
78         * Author : Katie Chai
79         *
80         * Date created : 2023-11-13
81         *
82         * Purpose : This program is designed to apply the key points of the lecture:
83         * 1) Using the DATA step for restructuring data
84         *
85         * Revision History :
86         *
87         * Note: Standard header taken from :
88         * https://www.phusewiki.org/wiki/index.php?title=Program_Header
89         ****************************************************************************/
90         
91         %put %upcase(no)TE: Program being run by 730460523;
NOTE: Program being run by 730460523
92         options nofullstimer;
93         
94         /* ------------------------LIBNAME------------------------*/
95         * assigns libref for class data;
96         LIBNAME classDat "/home/u63543119/my_shared_file_links/u49231441/Data" access=readonly;
NOTE: Libref CLASSDAT refers to the same physical library as DATA511.
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /home/u63543119/my_shared_file_links/u49231441/Data
97         
98         * assigns libref for my data;
99         LIBNAME myDat "/home/u63543119/BIOS511/Data";
NOTE: Libref MYDAT refers to the same physical library as MYDATA.
NOTE: Libref MYDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /home/u63543119/BIOS511/Data
100        
101        * create an pdf file that contains selected information below;
102        ods pdf file='/home/u63543119/BIOS511/Output/lab21_730460523.pdf';
NOTE: Writing ODS PDF output to DISK destination "/home/u63543119/BIOS511/Output/lab21_730460523.pdf", printer "PDF".
103        
104        /* ------------------------Question 1------------------------*/
105        /* The goal of this task is to create this data set. (NOTE: The picture contains only part of
106        the data set. The order of your variables does not have to match what is below.) */
107        
108        proc sort data = classDat.ae out=ae_sorted;
2                                                          The SAS System                    Saturday, November 18, 2023 09:41:10 PM

109        	by AETERM AESOC;
110        run;

NOTE: There were 1177 observations read from the data set CLASSDAT.AE.
NOTE: The data set WORK.AE_SORTED has 1177 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

111        
112        data ae_edit;
113        	set ae_sorted;
114        	by AETERM AESOC;
115        	retain mild moderate severe;
116        	array AESEV_counts{3} mild moderate severe;
117        		
118        	* set equal to 0;
119        	if first.AETERM then do j=1 to 3;
120        		AESEV_counts{j} = 0;
121        	end;
122        		
123        	if AESEV = 'MILD' then AESEV_counts{1} = AESEV_counts{1} + 1;
124        	else if AESEV = 'MODERATE' then AESEV_counts{2} = AESEV_counts{2} + 1;
125        	else if AESEV = 'SEVERE' then AESEV_counts{3} = AESEV_counts{3} + 1;
126        		
127        	if last.AETERM;
128        	keep AETERM AESOC mild moderate severe;
129        run;

NOTE: There were 1177 observations read from the data set WORK.AE_SORTED.
NOTE: The data set WORK.AE_EDIT has 284 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

130        
131        /* ------------------------Question 2------------------------*/
132        /* Print the observations with an ae term of Thirst from the data set created in #2.
133         */
134        title1 "Observations with an ae term of Thirst";
135        title2 "PROC Print (data=ae_edit)";
136        proc print data = ae_edit;
137        	 where AETERM = 'Thirst';
138        run;

NOTE: There were 1 observations read from the data set WORK.AE_EDIT.
      WHERE AETERM='Thirst';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.02 seconds
      

139        
140        /* ------------------------Question 3------------------------*/
141        /* The goal of this task is to restructure the lb data set in the course folder to look like
142        this: */
3                                                          The SAS System                    Saturday, November 18, 2023 09:41:10 PM

143        
144        proc sort data = classDat.lb out=lb_sorted;
145        	by USUBJID VISITNUM VISIT LBTESTCD;
146        run;

NOTE: There were 7224 observations read from the data set CLASSDAT.LB.
NOTE: The data set WORK.LB_SORTED has 7224 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

147        
148        data lb_edit;
149            set lb_sorted;
150            by USUBJID VISITNUM VISIT LBTESTCD;
151        
152            retain ALB CA HCT;
153        
154            if first.USUBJID then do;
155        		ALB = .;
156        		CA = .;
157        	    HCT = .;
158        	end;
159        
160            if LBTESTCD = 'ALB' then ALB = LBSTRESN;
161            else if LBTESTCD = 'CA' then CA = LBSTRESN;
162            else if LBTESTCD = 'HCT' then HCT = LBSTRESN;
163        
164            if last.VISITNUM then do;
165            	output;
166            end;
167            keep USUBJID VISITNUM VISIT ALB CA HCT;
168        run;

NOTE: There were 7224 observations read from the data set WORK.LB_SORTED.
NOTE: The data set WORK.LB_EDIT has 2408 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

169        
170        /* ------------------------Question 4------------------------*/
171        /* Print the observations with usubjid of ECHO-040-023 from the data set created in #3. */
172        title1 "Observations with a usubjid of ECHO-040-023";
173        title2 "PROC Print (data=lb_edit)";
174        proc print data = lb_edit;
175        	 where USUBJID = 'ECHO-040-023';
176        run;

NOTE: There were 4 observations read from the data set WORK.LB_EDIT.
      WHERE USUBJID='ECHO-040-023';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

4                                                          The SAS System                    Saturday, November 18, 2023 09:41:10 PM

177        
178        /* ------------------------Question 5------------------------*/
179        /* Create a data set based on the tumor2 data set in the course data folder. */
180        data tumor2_edit;
181            set classDat.tumor2;
182            output;
183            treatment = 'Total';
184            output;
185        run;

NOTE: There were 362 observations read from the data set CLASSDAT.TUMOR2.
NOTE: The data set WORK.TUMOR2_EDIT has 724 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

186        
187        /* ------------------------Question 6------------------------*/
188        proc sort data = tumor2_edit;
189        	by treatment;
190        run;

NOTE: There were 724 observations read from the data set WORK.TUMOR2_EDIT.
NOTE: The data set WORK.TUMOR2_EDIT has 724 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

191        
192        /* Use PROC FREQ to get the number of patients for each treatment. */
193        title1 "Number of patients for each treatment";
194        title2 "PROC Freq (data=tumor2_edit)";
195        proc freq data = tumor2_edit;
196        	 tables treatment;
197        run;

NOTE: There were 724 observations read from the data set WORK.TUMOR2_EDIT.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

198        
199        /* ------------------------CLOSING------------------------*/
200        ods pdf close;
NOTE: ODS PDF printed 3 pages to /home/u63543119/BIOS511/Output/lab21_730460523.pdf.
201        
202        proc printto; run;

